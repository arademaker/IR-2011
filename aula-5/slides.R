###################################################
### chunk number 1: 
###################################################
library(zoo)
options(width=50)
options(continue=" ")


###################################################
### chunk number 2: 
###################################################
idades <- cut(sample(1:70, 30), c(1,15,24,60,70), 
              c("crianÃ§a","adolescente","adulto", "idoso"))
sexo <- factor(sample(1:2, 30, replace=TRUE), 
               levels = c(1,2), labels = c("F","M"))
t <- table(idades, sexo)


###################################################
### chunk number 3: 
###################################################
t


###################################################
### chunk number 4:  eval=FALSE
###################################################
## attributes(t)
## mode(t)
## class(t)


###################################################
### chunk number 5: 
###################################################
margin.table(t, 1)
prop.table(t)


###################################################
### chunk number 6: 
###################################################
addmargins(t, margin=c(1,2), FUN=mean, quiet=TRUE)


###################################################
### chunk number 7: 
###################################################
gl(2, 5, labels = c("nao", "sim"))


###################################################
### chunk number 8: 
###################################################
rnorm(10, mean = 10, sd = 3)


###################################################
### chunk number 9: 
###################################################
(m1 <- matrix(c(45, 23, 66, 77, 33, 44), 2, 3))
(m2 <- matrix(c(5, 3, 466, 54.5, 3.2, -34), 3, 2))


###################################################
### chunk number 10: 
###################################################
m1 %*% m2


###################################################
### chunk number 11: 
###################################################
t(m1)


###################################################
### chunk number 12: 
###################################################
(hoje <- Sys.Date())
format(hoje, "%d %b %Y")
seq(hoje, len = 10, by = "1 week")
c(months(hoje), weekdays(hoje))


###################################################
### chunk number 13: 
###################################################
as.Date("2011-01-26") - as.Date("2010-04-02")
ISOdate(2001, 1, 1) - ISOdate(2000, 6, 14)
table(cut(seq(ISOdate(2011, 1, 1), to = ISOdate(2011, 12, 31), by = "day"), "month"))


###################################################
### chunk number 14: 
###################################################
as.POSIXlt(Sys.time(), "GMT")
a <- as.POSIXct("2011-01-26 11:00") 
b <- as.POSIXct("2011-01-01 00:00")
a - b
format(Sys.time(), "%a %b %d %X %Y %Z")


###################################################
### chunk number 15: 
###################################################
x <- c("1jan1960", "2jan1960", "31mar1960", "30jul1960")
strptime(x, "%d%b%Y")

dates <- c("02/27/92", "02/27/92", "01/14/92")
times <- c("23:03:20", "22:29:56", "01:03:30")
x <- paste(dates, times)
strptime(x, "%m/%d/%y %H:%M:%S")


###################################################
### chunk number 16: 
###################################################
ts(rnorm(10), start = 1990, frequency = 1)


###################################################
### chunk number 17: 
###################################################
(k <- ts(rnorm(10), frequency = 12, start = c(1959, 2)))


###################################################
### chunk number 18: 
###################################################
(m <- ts(matrix(rnorm(30), 10, 3), start = c(1961, 6), frequency = 12))


###################################################
### chunk number 19: 
###################################################
plot(k)


###################################################
### chunk number 20: 
###################################################
plot(m)


###################################################
### chunk number 21: 
###################################################
plot(m, plot.type = "single", col = 1:3)


###################################################
### chunk number 22: 
###################################################
a <- ts(rnorm(10), frequency = 4, start = c(1959, 2))
b <- ts(rnorm(10), frequency = 4, start = c(1960, 1))
cbind(a,b)


###################################################
### chunk number 23: 
###################################################
x <- zoo(rnorm(5), seq(as.Date("2011-01-01"), length = 5, by = "days"))
y <- zoo(rnorm(5), seq(as.Date("2011-01-04"), length = 5, by = "days"))
cbind(x,y)


###################################################
### chunk number 24: 
###################################################
merge(x, y, all=FALSE)


###################################################
### chunk number 25: 
###################################################
Sq1 <- read.table(file = "squid1.txt", header = TRUE, stringsAsFactors=FALSE)
head(Sq1)


###################################################
### chunk number 26: 
###################################################
Sq2 <- read.table(file = "squid2.txt", header = TRUE, stringsAsFactors=FALSE)
head(Sq2)


###################################################
### chunk number 27: 
###################################################
dim(Sq1)
dim(Sq2)
unique(c(Sq1$Sample[-1],Sq1$Sample[length(Sq1$Sample)]) - Sq1$Sample)
unique(c(Sq2$Sample[-1],Sq2$Sample[length(Sq2$Sample)]) - Sq2$Sample)


###################################################
### chunk number 28: 
###################################################
SquidMerged <- merge(Sq1, Sq2, by = "Sample")
head(SquidMerged)


###################################################
### chunk number 29: 
###################################################
setdiff(Sq1$Sample, Sq2$Sample)


###################################################
### chunk number 30: 
###################################################
SquidMerged <- merge(Sq1, Sq2, by = "Sample", all= TRUE)
SquidMerged[1:10,]


###################################################
### chunk number 31: 
###################################################
x <- 35
cat("x tem o valor de ", x, "\t Estranho?\n")


###################################################
### chunk number 32:  eval=FALSE
###################################################
## scan()
## scan(4)
## scan(what=character())


